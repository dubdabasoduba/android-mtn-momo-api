"use strict";(self.webpackChunkmomosdk=self.webpackChunkmomosdk||[]).push([[234],{8991:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>d});var t=n(4848),i=n(8453);const s={sidebar_position:2,sidebar_label:"Code Documentation (`Kdocs`)"},r="Code Documentation (Kdocs)",a={id:"Documentation/kdocs",title:"Code Documentation (Kdocs)",description:"We use Dokka to generate Kotlin code documentation for the MTN MOMO API SDK. This ensures that all code added to the repository is accompanied by corresponding documentation, enhancing usability and maintainability.",source:"@site/versioned_docs/version-1.0/Documentation/kdocs.md",sourceDirName:"Documentation",slug:"/Documentation/kdocs",permalink:"/Documentation/kdocs",draft:!1,unlisted:!1,editUrl:"https://github.com/re-kast/android-mtn-momo-api-sdk/tree/develop/versioned_docs/version-1.0/Documentation/kdocs.md",tags:[],version:"1.0",sidebarPosition:2,frontMatter:{sidebar_position:2,sidebar_label:"Code Documentation (`Kdocs`)"},sidebar:"tutorialSidebar",previous:{title:"Library Usage",permalink:"/Documentation/usage"}},l={},d=[{value:"GitHub Actions Workflow for Dokka",id:"github-actions-workflow-for-dokka",level:2},{value:"Explanation of Workflow Steps",id:"explanation-of-workflow-steps",level:3},{value:"Generating Documentation Locally",id:"generating-documentation-locally",level:2},{value:"Steps to Generate Documentation Locally",id:"steps-to-generate-documentation-locally",level:3},{value:"Additional Resources",id:"additional-resources",level:2}];function c(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.header,{children:(0,t.jsxs)(o.h1,{id:"code-documentation-kdocs",children:["Code Documentation (",(0,t.jsx)(o.code,{children:"Kdocs"}),")"]})}),"\n",(0,t.jsxs)(o.p,{children:["We use ",(0,t.jsx)(o.a,{href:"https://kotlinlang.org/docs/dokka/overview.html",children:"Dokka"})," to generate Kotlin code documentation for the MTN MOMO API SDK. This ensures that all code added to the repository is accompanied by corresponding documentation, enhancing usability and maintainability."]}),"\n",(0,t.jsxs)(o.p,{children:["The generated documentation is automatically deployed to ",(0,t.jsx)(o.a,{href:"https://mtn-momo-sdk.rekast.io/",children:"https://mtn-momo-sdk.rekast.io/"})," via ",(0,t.jsx)(o.a,{href:"https://github.com/re-kast/android-mtn-momo-api-sdk/blob/de966147f9a240b2bdf0611663a6fd5b05cf21ae/.github/workflows/docs.yml#L48-L94",children:"GitHub Actions"}),". This CI/CD pipeline ensures that any updates to the documentation are promptly reflected on the website."]}),"\n",(0,t.jsx)(o.hr,{}),"\n",(0,t.jsx)(o.h2,{id:"github-actions-workflow-for-dokka",children:"GitHub Actions Workflow for Dokka"}),"\n",(0,t.jsx)(o.p,{children:"The following YAML configuration outlines the steps involved in building and deploying the Dokka documentation:"}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-yaml",children:'build-and-deploy-dokka:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout \ud83d\udece\ufe0f\n        uses: actions/checkout@v2.3.1\n\n      - name: Set up JDK 17\n        uses: actions/setup-java@v1\n        with:\n          java-version: 17\n\n      - name: Add empty local.properties\n        run: |\n          touch local.properties\n          echo "MOMO_BASE_URL=${MOMO_BASE_URL}" >> local.properties\n          echo "MOMO_COLLECTION_PRIMARY_KEY=${MOMO_COLLECTION_PRIMARY_KEY}" >> local.properties\n          echo "MOMO_COLLECTION_SECONDARY_KEY=${MOMO_COLLECTION_SECONDARY_KEY}" >> local.properties\n          echo "MOMO_REMITTANCE_PRIMARY_KEY=${MOMO_REMITTANCE_PRIMARY_KEY}" >> local.properties\n          echo "MOMO_REMITTANCE_SECONDARY_KEY=${MOMO_REMITTANCE_SECONDARY_KEY}" >> local.properties\n          echo "MOMO_DISBURSEMENTS_PRIMARY_KEY=${MOMO_DISBURSEMENTS_PRIMARY_KEY}" >> local.properties\n          echo "MOMO_DISBURSEMENTS_SECONDARY_KEY=${MOMO_DISBURSEMENTS_SECONDARY_KEY}" >> local.properties\n          echo "MOMO_API_USER_ID=${MOMO_API_USER_ID}" >> local.properties\n          echo "MOMO_ENVIRONMENT=${MOMO_ENVIRONMENT}" >> local.properties\n          echo "MOMO_API_VERSION_V1=${MOMO_API_VERSION_V1}" >> local.properties\n          echo "MOMO_API_VERSION_V2=${MOMO_API_VERSION_V2}" >> local.properties\n        working-directory: android\n\n      - name: Add empty keystore.properties\n        run: touch keystore.properties\n        working-directory: android\n\n      - name: Grant execute permission for gradlew\n        run: chmod +x gradlew\n        working-directory: android\n\n      - name: Document modules with Dokka\n        run: ./gradlew dokkaHtmlMultiModule\n        working-directory: android\n\n      - name: Deploy \ud83d\ude80\n        if: ${{ github.event_name == \'push\' }}\n        uses: JamesIves/github-pages-deploy-action@v4.4.1\n        with:\n          branch: gh-pages # The branch the action should deploy to.\n          folder: android/build/dokka # The folder the action should deploy.\n          target-folder: dokka\n          ssh-key: ${{ secrets.DEPLOY_KEY }}\n'})}),"\n",(0,t.jsx)(o.h3,{id:"explanation-of-workflow-steps",children:"Explanation of Workflow Steps"}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Checkout the Repository"}),": The workflow starts by checking out the repository to access the documentation files."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Set up JDK 17"}),": It sets up Java Development Kit (JDK) version 17, which is required for building the documentation."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Add Local Properties"}),": Creates a ",(0,t.jsx)(o.code,{children:"local.properties"})," file with necessary environment variables for the build process."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Add Keystore Properties"}),": Creates an empty ",(0,t.jsx)(o.code,{children:"keystore.properties"})," file, which may be required for signing the application."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Grant Execute Permission"}),": Ensures that the ",(0,t.jsx)(o.code,{children:"gradlew"})," script has execute permissions."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Document Modules with Dokka"}),": Runs the Dokka task to generate HTML documentation for all modules."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Deploy to GitHub Pages"}),": Finally, the generated documentation is deployed to the ",(0,t.jsx)(o.code,{children:"gh-pages"})," branch, making it accessible via the specified URL."]}),"\n"]}),"\n",(0,t.jsx)(o.h2,{id:"generating-documentation-locally",children:"Generating Documentation Locally"}),"\n",(0,t.jsxs)(o.p,{children:["You can also generate documentation locally to preview what will be deployed once the GitHub Actions run. This is made possible by the configuration specified in the ",(0,t.jsx)(o.code,{children:"build.gradle.kts"})," file:"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-kotlin",children:'tasks.named<org.jetbrains.dokka.gradle.DokkaMultiModuleTask>("dokkaHtmlMultiModule") {\n    moduleName.set("| MTN MOMO ANDROID SDK")\n    moduleVersion.set(project.version.toString())\n    outputDirectory.set(layout.buildDirectory.dir("dokka"))\n\n    pluginConfiguration<DokkaBase, DokkaBaseConfiguration> {\n        customAssets = listOf(layout.projectDirectory.file("assets/logo-icon.svg").asFile)\n        customStyleSheets = listOf((layout.projectDirectory.file("assets/rekast.css").asFile))\n        footerMessage = "&copy; Re.Kast Limited"\n        separateInheritedMembers = false\n    }\n\n    pluginsMapConfiguration.set(\n        mapOf(\n            "org.jetbrains.dokka.base.DokkaBase" to """{ "separateInheritedMembers": false }"""\n        )\n    )\n}\n'})}),"\n",(0,t.jsx)(o.h3,{id:"steps-to-generate-documentation-locally",children:"Steps to Generate Documentation Locally"}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:["Navigate to the ",(0,t.jsx)(o.code,{children:"android"})," folder in your project directory:","\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"cd android\n"})}),"\n"]}),"\n",(0,t.jsxs)(o.li,{children:["Run the following command to generate the documentation:","\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-bash",children:"./gradlew dokkaHtmlMultiModule\n"})}),"\n"]}),"\n",(0,t.jsxs)(o.li,{children:["Check the root ",(0,t.jsx)(o.code,{children:"build"})," folder for a folder named ",(0,t.jsx)(o.code,{children:"dokka"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:["Open the ",(0,t.jsx)(o.code,{children:"index.html"})," file generated in the ",(0,t.jsx)(o.code,{children:"dokka"})," folder to preview the documentation."]}),"\n"]}),"\n",(0,t.jsx)(o.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Dokka Documentation"}),": For more information on how to use Dokka, refer to the ",(0,t.jsx)(o.a,{href:"https://kotlinlang.org/docs/dokka/overview.html",children:"official documentation"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Kotlin Documentation"}),": Learn more about Kotlin and its features by visiting the ",(0,t.jsx)(o.a,{href:"https://kotlinlang.org/docs/home.html",children:"Kotlin documentation"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"GitHub Actions Documentation"}),": For details on automating workflows with GitHub Actions, check out the ",(0,t.jsx)(o.a,{href:"https://docs.github.com/en/actions",children:"GitHub Actions documentation"}),"."]}),"\n"]}),"\n",(0,t.jsx)(o.p,{children:"By following this documentation, developers can effectively generate and maintain code documentation for the MTN MOMO API SDK, ensuring that it remains accessible and useful for all users."})]})}function h(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,o,n)=>{n.d(o,{R:()=>r,x:()=>a});var t=n(6540);const i={},s=t.createContext(i);function r(e){const o=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(s.Provider,{value:o},e.children)}}}]);